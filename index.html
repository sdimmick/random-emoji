<!DOCTYPE HTML>
<html lang="en-US">
  <head>
    <title>Random Emoji</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <meta name="description" content="Random emoji generator" />
    <link rel="stylesheet" type="text/css" href="css/main.css">  
    <link rel="stylesheet" type="text/css" href="css/arrows.css">  
    <link rel="stylesheet" type="text/css" href="css/normalize.css">  
  </head>
  <body>
    <div class="emoji-container">
      <span id="left-arrow" class="arrow arrow-left-disabled"></span>
      <span id="emj" class="emoji"></span>
      <span id="right-arrow" class="arrow arrow-right"></span>
    </div>
    <span id="footer">
      <h1>
        Made by <a href="mailto:stephen.dimmick@gmail.com">Stephen Dimmick</a>
        with this awesome <a href="http://emojisymbols.com/">font</a>
      </h1>
    </span>
  </body>
  <script src="js/emojilist.js"></script>
  <script>
    var history = [];

    var emojiElement = document.getElementById('emj');
    var rightArrow = document.getElementById('right-arrow');
    var leftArrow = document.getElementById('left-arrow');

    function next() {
        var currentEmoji = emojiElement.innerHTML;
        if (currentEmoji) {
            history.push(currentEmoji);
        }

        var rand = Math.floor(Math.random() * emojis.length);
        var hexString = emojis[rand];
        emojiElement.innerHTML = hexString;

        if (history.length > 0) {
            leftArrow.className = 'arrow arrow-left';
        }
    }

    function previous() {
        var hexString = history.pop();
        if (hexString) {
            emojiElement.innerHTML = hexString;
            if (history.length == 0) {
                leftArrow.className = 'arrow arrow-left-disabled';
            }
        } 
    }

    rightArrow.addEventListener('click', next);
    leftArrow.addEventListener('click', previous);
    next();

    // google analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-45815124-1', 'randomemoji.com');
    ga('send', 'pageview');
  </script>
  <script src="js/modernizr.js"></script>
</html>
